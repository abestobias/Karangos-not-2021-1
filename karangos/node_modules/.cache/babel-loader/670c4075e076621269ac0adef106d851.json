{"ast":null,"code":"var _jsxFileName = \"/workspace/Karangos-not-2021-1/karangos/src/routed/KarangosList.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport AddBoxIcon from '@material-ui/icons/AddBox';\nimport { useHistory } from 'react-router-dom';\nimport ConfirmDialog from '../ui/ConfirmDialog';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  table: {\n    minWidth: 650\n  },\n  editButton: {\n    color: theme.palette.success.dark\n  },\n  tableRow: {\n    '& button': {\n      // Linha da tabela em estado \"normal\"\n      visibility: 'hidden'\n    },\n    '&:hover': {\n      // Linha da tabela com mouse sobreposto\n      backgroundColor: theme.palette.action.hover\n    },\n    '&:hover button': {\n      // Botões na linha com mouse sobreposto\n      visibility: 'visible'\n    }\n  },\n  toolbar: {\n    justifyContent: 'flex-end',\n    paddingRight: 0\n  }\n}));\n/*\nfunction createData(name, calories, fat, carbs, protein) {\n    return { name, calories, fat, carbs, protein };\n}\n\nconst rows = [\n    createData('Frozen yoghurt', 159, 6.0, 24, 4.0),\n    createData('Ice cream sandwich', 237, 9.0, 37, 4.3),\n    createData('Eclair', 262, 16.0, 24, 6.0),\n    createData('Cupcake', 305, 3.7, 67, 4.3),\n    createData('Gingerbread', 356, 16.0, 49, 3.9),\n];\n*/\n\nexport default function KarangoList() {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory(); // É importante inicializar esta variável como um vetor vazio\n\n  const [karangos, setKarangos] = useState([]);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [deletable, setDeletable] = useState(); // Cód. do registro a ser excluído\n\n  const [snackState, setSnackState] = useState({\n    open: false,\n    severity: 'sucess',\n    message: 'Karango excluído com sucesso.'\n  });\n\n  function handleDialogClose(result) {\n    setDialogOpen(false);\n    if (result) deleteItem();\n  }\n\n  function handleDeleteClick(id) {\n    setDeletable(id);\n    setDialogOpen(true);\n  }\n\n  async function deleteItem() {\n    try {\n      await axios.delete(`https://api.faustocintra.com.br/karangos/${deletable}`);\n      getData(); // Atualiza os dados das tabelas\n      //alert(`Karango excluído com sucesso.`)\n\n      setSnackState({ ...snackState,\n        open: true\n      }); // Exibe a Snackbar\n    } catch (error) {\n      //alert(`ERRO: ${error.message}`)\n      // Mostra a Snackbar de erro\n      setSnackState({\n        open: true,\n        severity: 'error',\n        message: 'ERRO: ' + error.message\n      });\n    }\n  }\n\n  async function getData() {\n    try {\n      let response = await axios.get('https://api.faustocintra.com.br/karangos?by=marca,modelo');\n      if (response.data.length > 0) setKarangos(response.data);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  useEffect(() => {\n    getData();\n  }, []); // Quando a depêndencia de um useEffect é um vetor vazio, isso indica \n  // que ele será executado apenas uma vez, na inicialização do componente\n\n  function Alert(props) {\n    return /*#__PURE__*/_jsxDEV(MuiAlert, {\n      elevation: 6,\n      variant: \"filled\",\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 16\n    }, this);\n  }\n\n  function handleSnackClose(event, reason) {\n    // Evita que a Snackbar seja fechada clicando-se fora dela\n    if (reason === 'clickway') return;\n    setSnackState({ ...snackState,\n      open: false\n    }); // Fecha a Snackbar\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ConfirmDialog, {\n      isOpen: dialogOpen,\n      onClose: handleDialogClose,\n      children: \"Deseja realmente excluir esse karango?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackState.open,\n      autoHideDuration: 6000,\n      onClose: handleSnackClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleSnackClose,\n        severity: snackState.severity,\n        children: snackState.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Listagem de Karangos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Toolbar, {\n      className: classes.toolbar,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        color: \"secondary\",\n        variant: \"contained\",\n        size: \"large\",\n        startIcon: /*#__PURE__*/_jsxDEV(AddBoxIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 87\n        }, this),\n        onClick: () => history.push(\"/new\"),\n        children: \"Novo Karango\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        className: classes.table,\n        size: \"small\",\n        \"aria-label\": \"a dense table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"C\\xF3d.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Marca\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Modelo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Cor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Ano\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Importado?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Placa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"Pre\\xE7o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Editar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Excluir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: karangos.map(karango => /*#__PURE__*/_jsxDEV(TableRow, {\n            className: classes.tableRow,\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: karango.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: karango.marca\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: karango.modelo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: karango.cor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: karango.ano_fabricacao\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                color: \"primary\",\n                checked: karango.importado === '1',\n                readOnly: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: karango.placa\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: Number(karango.preco).toLocaleString('pt-br', {\n                style: 'currency',\n                currency: 'BRL'\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                \"aria-label\": \"edit\",\n                children: /*#__PURE__*/_jsxDEV(EditIcon, {\n                  className: classes.editButton\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                \"aria-label\": \"delete\",\n                onClick: () => handleDeleteClick(karango.id),\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                  color: \"error\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 37\n            }, this)]\n          }, karango.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(KarangoList, \"++1Gz7axROR59RtVststEgkWkuc=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = KarangoList;\n\nvar _c;\n\n$RefreshReg$(_c, \"KarangoList\");","map":{"version":3,"sources":["/workspace/Karangos-not-2021-1/karangos/src/routed/KarangosList.js"],"names":["axios","useEffect","useState","React","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Checkbox","IconButton","DeleteIcon","EditIcon","Toolbar","Button","AddBoxIcon","useHistory","ConfirmDialog","Snackbar","MuiAlert","useStyles","theme","table","minWidth","editButton","color","palette","success","dark","tableRow","visibility","backgroundColor","action","hover","toolbar","justifyContent","paddingRight","KarangoList","classes","history","karangos","setKarangos","dialogOpen","setDialogOpen","deletable","setDeletable","snackState","setSnackState","open","severity","message","handleDialogClose","result","deleteItem","handleDeleteClick","id","delete","getData","error","response","get","data","length","console","Alert","props","handleSnackClose","event","reason","push","map","karango","marca","modelo","cor","ano_fabricacao","importado","placa","Number","preco","toLocaleString","style","currency"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox'\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport AddBoxIcon from '@material-ui/icons/AddBox';\nimport { useHistory } from 'react-router-dom';\nimport ConfirmDialog from '../ui/ConfirmDialog'\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\n\nconst useStyles = makeStyles((theme) => ({\n    table: {\n        minWidth: 650,\n    },\n    editButton: {\n        color: theme.palette.success.dark,\n    },\n    tableRow: {\n        '& button': {       // Linha da tabela em estado \"normal\"\n            visibility: 'hidden'\n        },\n        '&:hover': {        // Linha da tabela com mouse sobreposto\n            backgroundColor: theme.palette.action.hover\n        },\n        '&:hover button': { // Botões na linha com mouse sobreposto\n            visibility: 'visible'\n        }\n    },\n    toolbar: {\n        justifyContent: 'flex-end',\n        paddingRight: 0\n    }\n}));\n\n/*\nfunction createData(name, calories, fat, carbs, protein) {\n    return { name, calories, fat, carbs, protein };\n}\n\nconst rows = [\n    createData('Frozen yoghurt', 159, 6.0, 24, 4.0),\n    createData('Ice cream sandwich', 237, 9.0, 37, 4.3),\n    createData('Eclair', 262, 16.0, 24, 6.0),\n    createData('Cupcake', 305, 3.7, 67, 4.3),\n    createData('Gingerbread', 356, 16.0, 49, 3.9),\n];\n*/\n\nexport default function KarangoList() {\n    const classes = useStyles();\n\n    const history = useHistory()\n\n    // É importante inicializar esta variável como um vetor vazio\n    const [karangos, setKarangos] = useState([])\n    const [dialogOpen, setDialogOpen] = useState(false)\n    const [deletable, setDeletable] = useState()  // Cód. do registro a ser excluído\n\n    const [snackState, setSnackState] = useState({\n        open: false,\n        severity: 'sucess',\n        message: 'Karango excluído com sucesso.'\n    })\n\n    function handleDialogClose(result) {\n        setDialogOpen(false)\n        if (result) deleteItem()\n    }\n\n    function handleDeleteClick(id) {\n        setDeletable(id)\n        setDialogOpen(true)\n    }\n\n    async function deleteItem() {\n        try {\n            await axios.delete(`https://api.faustocintra.com.br/karangos/${deletable}`)\n            getData()   // Atualiza os dados das tabelas\n            //alert(`Karango excluído com sucesso.`)\n            setSnackState({...snackState, open: true})  // Exibe a Snackbar\n        }\n        catch (error) {\n            //alert(`ERRO: ${error.message}`)\n            // Mostra a Snackbar de erro\n            setSnackState({\n                open: true,\n                severity: 'error',\n                message: 'ERRO: ' + error.message\n            })\n        }\n    }\n\n    async function getData() {\n        try {\n            let response = await axios.get('https://api.faustocintra.com.br/karangos?by=marca,modelo')\n            if (response.data.length > 0) setKarangos(response.data)\n        }\n        catch (error) {\n            console.error(error);\n        }\n    }\n\n    useEffect(() => {\n        getData()\n    }, [])  // Quando a depêndencia de um useEffect é um vetor vazio, isso indica \n    // que ele será executado apenas uma vez, na inicialização do componente\n\n    function Alert(props) {\n        return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n    }\n\n    function handleSnackClose(event, reason) {\n        // Evita que a Snackbar seja fechada clicando-se fora dela\n        if (reason === 'clickway') return\n        setSnackState({...snackState, open: false})  // Fecha a Snackbar\n    }\n\n    return (\n        <>\n            <ConfirmDialog isOpen={dialogOpen} onClose={handleDialogClose}>\n                Deseja realmente excluir esse karango?\n            </ConfirmDialog>\n            <Snackbar open={snackState.open} autoHideDuration={6000} onClose={handleSnackClose}>\n                <Alert onClose={handleSnackClose} severity={snackState.severity}>\n                    {snackState.message}\n                </Alert>\n            </Snackbar>\n            <h1>Listagem de Karangos</h1>\n            {/*{ karangos.map(karango => <div>{karango.modelo}</div>) }*/}\n            <Toolbar className={classes.toolbar}>\n                <Button color=\"secondary\" variant=\"contained\" size=\"large\" startIcon={<AddBoxIcon />} onClick={() => history.push(\"/new\")}>\n                    Novo Karango\n                </Button>\n            </Toolbar>\n            <TableContainer component={Paper}>\n                <Table className={classes.table} size=\"small\" aria-label=\"a dense table\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell align=\"right\">Cód.</TableCell>\n                            <TableCell>Marca</TableCell>\n                            <TableCell>Modelo</TableCell>\n                            <TableCell>Cor</TableCell>\n                            <TableCell align=\"center\">Ano</TableCell>\n                            <TableCell align=\"center\">Importado?</TableCell>\n                            <TableCell align=\"center\">Placa</TableCell>\n                            <TableCell align=\"right\">Preço</TableCell>\n                            <TableCell align=\"center\">Editar</TableCell>\n                            <TableCell align=\"center\">Excluir</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {\n                            karangos.map(karango =>\n                                <TableRow key={karango.id} className={classes.tableRow}>\n                                    <TableCell align=\"right\">{karango.id}</TableCell>\n                                    <TableCell>{karango.marca}</TableCell>\n                                    <TableCell>{karango.modelo}</TableCell>\n                                    <TableCell>{karango.cor}</TableCell>\n                                    <TableCell align=\"center\">{karango.ano_fabricacao}</TableCell>\n                                    <TableCell align=\"center\">\n                                        <Checkbox color=\"primary\" checked={karango.importado === '1'} readOnly />\n                                    </TableCell>\n                                    <TableCell align=\"center\">{karango.placa}</TableCell>\n                                    <TableCell align=\"right\">\n                                        {Number(karango.preco).toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        <IconButton aria-label=\"edit\" >\n                                            <EditIcon className={classes.editButton} />\n                                        </IconButton>\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        <IconButton aria-label=\"delete\" onClick={() => handleDeleteClick(karango.id)}>\n                                            <DeleteIcon color=\"error\" />\n                                        </IconButton>\n                                    </TableCell>\n                                </TableRow>\n                            )\n                        }\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}